{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-function.js","../src/js/pixabay-api.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst refs = {\n  formEL: document.querySelector('.js-search-form'),\n  listEL: document.querySelector('.gallery'),\n}\n\nconst options = {\n  captions: true,\n  captionSelector: 'img',\n  captionType: 'attr',\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  animation: 250,\n  widthRatio: 0.9,\n  scaleImageToRatio: true,\n}\nfunction photoTemplate(data) {\n  const markup = data.hits\n    .map(data => {\n    return `<li class=\"gallery-item\"><a href=\"${data.webformatURL}\">\n          <img class=\"gallery-image\" src=\"${data.webformatURL}\" alt=\"${data.tags}\"></a>\n          <p><b>Likes: </b>${data.likes}</p>\n          <p><b>Views: </b>${data.view}</p>\n          <p><b>Comments: </b>${data.comments}</p>\n          <p><b>Downloads: </b>${data.download}</p>\n          </li>`;\n  })\n  .join(\"\")\n  refs.listEL.insertAdjacentHTML('afterbegin', markup);\n  const lightbox = new SimpleLightbox('.gallery a' , options);\n  lightbox.refresh();\n  refs.formEL.reset();\n\n}\nexport function renderPhotoTemplate(data) {\n  photoTemplate(data)\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { renderPhotoTemplate } from './render-function.js';\n\nconst refs = {\n  formEL: document.querySelector('.js-search-form')\n}\n\n\nrefs.formEL.addEventListener('submit', async (e)=>{\n  e.preventDefault()\n  const userSubmit = e.target.elements.query.value.trim();\n  getSearchPhotoAPI(userSubmit).then(data => {\n    if (!data.hits.length){\n      iziToast.show({\n        message: \"Sorry, there are no images matching your search query. Please try again!\",\n        backgroundColor: 'red',\n        position: 'topRight'\n      })\n    } else {\n      renderPhotoTemplate(data);\n    }\n  })\n  e.target.reset()\n})\n\n\nexport function getSearchPhotoAPI(userSymbol)  {\n  const KEY_API = '42320428-e8ed9ab9e474091db19815d3a'\n\n  const listParameters = {\n    key: KEY_API,\n    q: userSymbol,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true\n  }\n\n  const queryString = new URLSearchParams(listParameters).toString();\n  const BASE_URL = `https://pixabay.com/api?${queryString}`\n\n  return fetch(BASE_URL).then(res=>res.json());\n}"],"names":["refs","options","photoTemplate","data","markup","SimpleLightbox","renderPhotoTemplate","e","userSubmit","getSearchPhotoAPI","iziToast","userSymbol","listParameters","BASE_URL","res"],"mappings":"6vBAIA,MAAMA,EAAO,CACX,OAAQ,SAAS,cAAc,iBAAiB,EAChD,OAAQ,SAAS,cAAc,UAAU,CAC3C,EAEMC,EAAU,CACd,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,UAAW,IACX,WAAY,GACZ,kBAAmB,EACrB,EACA,SAASC,EAAcC,EAAM,CAC3B,MAAMC,EAASD,EAAK,KACjB,IAAIA,GACE,qCAAqCA,EAAK,YAAY;AAAA,4CACrBA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA,6BACnDA,EAAK,KAAK;AAAA,6BACVA,EAAK,IAAI;AAAA,gCACNA,EAAK,QAAQ;AAAA,iCACZA,EAAK,QAAQ;AAAA,gBAE3C,EACA,KAAK,EAAE,EACRH,EAAK,OAAO,mBAAmB,aAAcI,CAAM,EAClC,IAAIC,EAAe,aAAeJ,CAAO,EACjD,QAAO,EAChBD,EAAK,OAAO,OAEd,CACO,SAASM,EAAoBH,EAAM,CACxCD,EAAcC,CAAI,CACpB,CCnCA,MAAMH,EAAO,CACX,OAAQ,SAAS,cAAc,iBAAiB,CAClD,EAGAA,EAAK,OAAO,iBAAiB,SAAU,MAAOO,GAAI,CAChDA,EAAE,eAAgB,EAClB,MAAMC,EAAaD,EAAE,OAAO,SAAS,MAAM,MAAM,OACjDE,EAAkBD,CAAU,EAAE,KAAKL,GAAQ,CACpCA,EAAK,KAAK,OAObG,EAAoBH,CAAI,EANxBO,EAAS,KAAK,CACZ,QAAS,2EACT,gBAAiB,MACjB,SAAU,UAClB,CAAO,CAIP,CAAG,EACDH,EAAE,OAAO,MAAO,CAClB,CAAC,EAGM,SAASE,EAAkBE,EAAa,CAG7C,MAAMC,EAAiB,CACrB,IAHc,qCAId,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,EAGKE,EAAW,2BADG,IAAI,gBAAgBD,CAAc,EAAE,SAAQ,CACT,GAEvD,OAAO,MAAMC,CAAQ,EAAE,KAAKC,GAAKA,EAAI,KAAI,CAAE,CAC7C"}