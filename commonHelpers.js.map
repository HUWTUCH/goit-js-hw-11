{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["\nexport function getSearchPhotoAPI(userSymbol)  {\n  const KEY_API = '42320428-e8ed9ab9e474091db19815d3a'\n\n  const listParameters = {\n    key: KEY_API,\n    q: userSymbol,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  }\n\n  const queryString = new URLSearchParams(listParameters).toString();\n  const BASE_URL = `https://pixabay.com/api/?${queryString}`\n\n  return fetch(BASE_URL, {\n    method: \"GET\",\n    mode: \"cors\",\n  }).then(res=>res.json());\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst refs = {\n  formEL: document.querySelector('.js-search-form'),\n  listEL: document.querySelector('.gallery'),\n}\n\nexport function photoTemplate(data) {\n  const options = {\n    captions: true,\n    captionSelector: 'img',\n    captionType: 'attr',\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    animation: 250,\n    widthRatio: 0.9,\n    scaleImageToRatio: true,\n  }\n  const markup = data.hits\n    .map(data => {\n      return `<li class=\"gallery-item\"><a href=\"${data.webformatURL}\">\n          <img class=\"gallery-image\" src=\"${data.webformatURL}\" alt=\"${data.tags}\"></a>\n          <div class=\"bloc-content\">\n          <p><b>Likes: </b>${data.likes}</p>\n          <p><b>Views: </b>${data.views}</p>\n          <p><b>Comments: </b>${data.comments}</p>\n          <p><b>Downloads: </b>${data.downloads}</p>\n          </div>\n          </li>`;\n    })\n  .join(\"\")\n  refs.listEL.insertAdjacentHTML('afterbegin', markup);\n  const lightbox = new SimpleLightbox('.gallery a' , options);\n  lightbox.refresh();\n  refs.formEL.reset();\n}","import { getSearchPhotoAPI } from './js/pixabay-api.js'\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { photoTemplate } from './js/render-function.js';\n\nconst refs = {\n  formEL: document.querySelector('.js-search-form'),\n  loaderEl: document.querySelector('.loader'),\n  galleryList: document.querySelector('.gallery')\n}\nrefs.loaderEl.style.display = \"none\";\nrefs.formEL.addEventListener('submit', async (e)=>{\n  e.preventDefault()\n  refs.galleryList.innerHTML = '';\n  const userSubmit = e.target.elements.query.value.trim();\n  refs.loaderEl.style.display = \"block\";\n  getSearchPhotoAPI(userSubmit).then(data => {\n    if (!data.hits.length){\n      iziToast.show({\n        message: \"Sorry, there are no images matching your search query. Please try again!\",\n        backgroundColor: 'red',\n        position: 'topRight'\n      })\n      refs.galleryList.innerHTML = '';\n    } else {\n      photoTemplate(data);\n    }\n  })\n    .finally(()=> {\n      refs.loaderEl.style.display = \"none\";\n    })\n  e.target.reset()\n})"],"names":["getSearchPhotoAPI","userSymbol","listParameters","BASE_URL","res","refs","photoTemplate","data","options","markup","SimpleLightbox","e","userSubmit","iziToast"],"mappings":"6vBACO,SAASA,EAAkBC,EAAa,CAG7C,MAAMC,EAAiB,CACrB,IAHc,qCAId,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,EAGKE,EAAW,4BADG,IAAI,gBAAgBD,CAAc,EAAE,SAAQ,CACR,GAExD,OAAO,MAAMC,EAAU,CACrB,OAAQ,MACR,KAAM,MACP,CAAA,EAAE,KAAKC,GAAKA,EAAI,KAAM,CAAA,CACzB,CChBA,MAAMC,EAAO,CACX,OAAQ,SAAS,cAAc,iBAAiB,EAChD,OAAQ,SAAS,cAAc,UAAU,CAC3C,EAEO,SAASC,EAAcC,EAAM,CAClC,MAAMC,EAAU,CACd,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,UAAW,IACX,WAAY,GACZ,kBAAmB,EACpB,EACKC,EAASF,EAAK,KACjB,IAAIA,GACI,qCAAqCA,EAAK,YAAY;AAAA,4CACvBA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA,6BAEnDA,EAAK,KAAK;AAAA,6BACVA,EAAK,KAAK;AAAA,gCACPA,EAAK,QAAQ;AAAA,iCACZA,EAAK,SAAS;AAAA;AAAA,gBAG1C,EACF,KAAK,EAAE,EACRF,EAAK,OAAO,mBAAmB,aAAcI,CAAM,EAClC,IAAIC,EAAe,aAAeF,CAAO,EACjD,QAAO,EAChBH,EAAK,OAAO,OACd,CC/BA,MAAMA,EAAO,CACX,OAAQ,SAAS,cAAc,iBAAiB,EAChD,SAAU,SAAS,cAAc,SAAS,EAC1C,YAAa,SAAS,cAAc,UAAU,CAChD,EACAA,EAAK,SAAS,MAAM,QAAU,OAC9BA,EAAK,OAAO,iBAAiB,SAAU,MAAOM,GAAI,CAChDA,EAAE,eAAgB,EAClBN,EAAK,YAAY,UAAY,GAC7B,MAAMO,EAAaD,EAAE,OAAO,SAAS,MAAM,MAAM,OACjDN,EAAK,SAAS,MAAM,QAAU,QAC9BL,EAAkBY,CAAU,EAAE,KAAKL,GAAQ,CACpCA,EAAK,KAAK,OAQbD,EAAcC,CAAI,GAPlBM,EAAS,KAAK,CACZ,QAAS,2EACT,gBAAiB,MACjB,SAAU,UAClB,CAAO,EACDR,EAAK,YAAY,UAAY,GAInC,CAAG,EACE,QAAQ,IAAK,CACZA,EAAK,SAAS,MAAM,QAAU,MACpC,CAAK,EACHM,EAAE,OAAO,MAAO,CAClB,CAAC"}